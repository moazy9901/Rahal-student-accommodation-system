<nav class="w-full h-16  bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow flex items-center px-5 justify-between transition-colors duration-300">

  <!-- Title -->
  <h1 class="text-xl ms-11 font-semibold text-gray-700 dark:text-gray-200">
    Owner Dashboard
  </h1>

  <!-- Desktop Right Section -->
  <div class="hidden md:flex items-center gap-4">

    <!-- Notifications -->
    <i class="fas fa-bell text-gray-600 dark:text-gray-300 text-xl cursor-pointer
              hover:text-gray-900 dark:hover:text-white transition-colors duration-300"></i>

    <!-- User Avatar -->
    <div class="relative" [class.z-50]="profileOpen">
      <button (click)="toggleProfile()">
        <img [src]="avatarUrl()" class="w-10 h-10 rounded-full object-cover cursor-pointer" />
      </button>

      <!-- DROPDOWN MENU -->
      <div *ngIf="profileOpen" (click)="toggleProfile()"
           class="absolute right-0 mt-3 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50">

        <a routerLink="/"
           class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition">
          Home
        </a>

        <a [routerLink]="user?.role === 'owner' ? '/owner-dashboard/apartments' : '/profile-student'"
           class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition">
          Profile
        </a>

        <button (click)="logout()"
                class="w-full text-left px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 transition">
          Logout
        </button>
      </div>
    </div>

    <!-- Theme Toggle -->
    <button (click)="theme.toggle()" class="text-zinc-700 dark:text-gray-200 px-2">
      <ng-container *ngIf="themeSignal() === 'light'; else darkModeIcon">
        <svg class="w-7 h-7" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 3v1m0 16v1m8.66-8.66h1M4.34 12H3m15.36 6.36l.7.7M6.34 6.34l-.7-.7m12.02 0l.7-.7M6.34 17.66l-.7.7M12 8a4 4 0 100 8 4 4 0 000-8z" />
        </svg>
      </ng-container>
      <ng-template #darkModeIcon>
        <svg class="w-7 h-7" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
        </svg>
      </ng-template>
    </button>

  </div>

  <!-- Mobile Toggle Button -->
  <button class="md:hidden text-gray-700 dark:text-gray-200 p-2 rounded-md" (click)="mobileMenuOpen = !mobileMenuOpen">
    <i class="fas" [ngClass]="mobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
  </button>
</nav>

<!-- Mobile Menu -->
<div *ngIf="mobileMenuOpen" class="md:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow flex flex-col p-4 space-y-3 transition">

  <!-- Top Section: Notifications + Profile + Theme Toggle -->
  <div class="flex items-center justify-between w-full px-2 space-x-3">

    <!-- Notifications -->
    <i class="fas fa-bell text-gray-600 dark:text-gray-300 text-xl cursor-pointer hover:text-gray-900 dark:hover:text-white transition-colors duration-300"></i>

    <!-- Profile -->
    <div class="relative">
      <button (click)="toggleProfile()" class="focus:outline-none">
        <img [src]="avatarUrl()" class="w-10 h-10 rounded-full object-cover cursor-pointer" />
      </button>

      <!-- DROPDOWN MENU -->
      <div *ngIf="profileOpen"
           class="absolute top-full right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50 flex flex-col">
        <a routerLink="/"
           class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition">
          Home
        </a>

        <a [routerLink]="user?.role === 'owner' ? '/owner-dashboard/apartments' : '/profile-student'"
           class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition">
          Profile
        </a>

        <button (click)="logout()"
                class="w-full text-left px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 transition">
          Logout
        </button>
      </div>
    </div>

    <!-- Theme Toggle -->
    <button (click)="theme.toggle()" class="text-zinc-700 dark:text-gray-200 px-2">
      <ng-container *ngIf="themeSignal() === 'light'; else darkModeIconMobile">
        <svg class="w-7 h-7" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 3v1m0 16v1m8.66-8.66h1M4.34 12H3m15.36 6.36l.7.7M6.34 6.34l-.7-.7m12.02 0l.7-.7M6.34 17.66l-.7.7M12 8a4 4 0 100 8 4 4 0 000-8z" />
        </svg>
      </ng-container>
      <ng-template #darkModeIconMobile>
        <svg class="w-7 h-7" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
        </svg>
      </ng-template>
    </button>

  </div>

</div>




