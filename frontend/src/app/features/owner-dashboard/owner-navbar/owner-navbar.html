<nav class="w-full h-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow flex items-center px-5 justify-between transition-colors duration-300">

  <!-- Breadcrumb -->
  <div class="text-sm breadcrumbs hidden md:flex">
    <ul class="flex items-center gap-2 text-gray-600 dark:text-gray-400">
      <li><a routerLink="/owner-dashboard" class="text-indigo-600 dark:text-indigo-400 hover:underline">Dashboard</a></li>
      <li><i class="fas fa-chevron-right text-xs mx-2"></i> Owner</li>
    </ul>
  </div>

  <!-- Right Section (Desktop) -->
  <div class="hidden md:flex items-center gap-4">

    <!-- Theme Toggle -->
    <button (click)="theme.toggle()" class="text-zinc-700 dark:text-gray-200 px-2 text-xl">
      <ng-container *ngIf="themeSignal() === 'light'; else darkModeIconDesktop">
        <i class="fas fa-moon"></i>
      </ng-container>
      <ng-template #darkModeIconDesktop>
        <i class="fas fa-sun text-yellow-400"></i>
      </ng-template>
    </button>

    <!-- Notifications -->
    <button class="relative p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 transition">
      <i class="fas fa-bell text-xl text-gray-600 dark:text-gray-400"></i>
      <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
        3
      </span>
    </button>

    <!-- Profile Dropdown -->
<div class="relative" [class.z-50]="profileOpen">
  <!-- Avatar Button -->
  <button
    (click)="toggleProfile()"
    class="w-10 h-10 rounded-full overflow-hidden border border-white dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 focus:outline-none"
  >
    <img [src]="avatarUrl()" alt="User" class="w-full h-full object-cover">
  </button>

  <!-- Dropdown Menu -->
  <div
    *ngIf="profileOpen"
    class="absolute top-full right-0 m-4 w-64 rounded-2xl bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-2xl border border-gray-200/50 dark:border-slate-700/50 overflow-hidden flex flex-col transition-transform duration-200 transform scale-95 opacity-0"
    [class.scale-100]="profileOpen"
    [class.opacity-100]="profileOpen"
  >
    <!-- User Info -->
    <div class="px-4 py-3 border-b border-gray-100/50 dark:border-slate-700/50 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-slate-700 dark:to-slate-800">
      <p class="font-semibold text-gray-800 dark:text-white text-sm truncate">{{ user?.name }}</p>
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-1 truncate">{{ user?.email }}</p>
    </div>

    <!-- Menu Links -->
    <div class="flex flex-col py-1">
      <a
        routerLink="/"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition-colors rounded-lg"
      >
        <i class="fas fa-home w-4 text-gray-400 group-hover:text-indigo-500 dark:group-hover:text-indigo-400"></i>
        <span>Home</span>
      </a>

      <a
        routerLink="/profile-student"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition-colors rounded-lg"
      >
        <i class="fas fa-user-circle w-4 text-gray-400 group-hover:text-indigo-500 dark:group-hover:text-indigo-400"></i>
        <span>Profile</span>
      </a>

      <div class="border-t border-gray-100 dark:border-slate-700/50 my-1"></div>

      <button
        (click)="logout()"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-lg w-full text-left"
      >
        <i class="fas fa-sign-out-alt w-4 text-center group-hover:text-red-500 dark:group-hover:text-red-400"></i>
        <span>Logout</span>
      </button>
    </div>
  </div>
</div>

  </div>

  <!-- Mobile Menu Button -->
  <button class="md:hidden ms-auto text-gray-700 dark:text-gray-200 p-2 rounded-md text-xl" (click)="mobileMenuOpen = !mobileMenuOpen">
    <i class="fas" [ngClass]="mobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
  </button>
</nav>

<!-- Mobile Menu -->
<div *ngIf="mobileMenuOpen" class="md:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow flex flex-col p-4 space-y-3 transition">

  <!-- Theme Toggle + Notifications + Profile -->
  <div class="flex items-center justify-between w-full px-2 space-x-3">

    <!-- Theme Toggle -->
    <button (click)="theme.toggle()" class="text-zinc-700 dark:text-gray-200 px-2 text-xl">
      <ng-container *ngIf="themeSignal() === 'light'; else darkModeIconMobile">
        <i class="fas fa-moon"></i>
      </ng-container>
      <ng-template #darkModeIconMobile>
        <i class="fas fa-sun text-yellow-400"></i>
      </ng-template>
    </button>

    <!-- Notifications -->
    <button class="relative p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 transition">
      <i class="fas fa-bell text-xl text-gray-600 dark:text-gray-300"></i>
      <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
        3
      </span>
    </button>

    <!-- Profile Dropdown -->
<div class="relative" [class.z-50]="profileOpen">
  <!-- Avatar Button -->
  <button
    (click)="toggleProfile()"
    class="w-10 h-10 rounded-full overflow-hidden border border-white dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 focus:outline-none"
  >
    <img [src]="avatarUrl()" alt="User" class="w-full h-full object-cover">
  </button>

  <!-- Dropdown Menu -->
  <div
    *ngIf="profileOpen"
    class="absolute top-full right-0 mt-3 w-48 rounded-2xl bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-2xl border border-gray-200/50 dark:border-slate-700/50 overflow-hidden flex flex-col transition-transform duration-200 transform scale-95 opacity-0"
    [class.scale-100]="profileOpen"
    [class.opacity-100]="profileOpen"
  >
    <!-- User Info -->
    <div class="px-4 py-3 border-b border-gray-100/50 dark:border-slate-700/50 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-slate-700 dark:to-slate-800">
      <p class="font-semibold text-gray-800 dark:text-white text-sm truncate">{{ user?.name }}</p>
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-1 truncate">{{ user?.email }}</p>
    </div>

    <!-- Menu Links -->
    <div class="flex flex-col py-1">
      <a
        routerLink="/"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition-colors rounded-lg"
      >
        <i class="fas fa-home w-4 text-gray-400 group-hover:text-indigo-500 dark:group-hover:text-indigo-400"></i>
        <span>Home</span>
      </a>

      <a
        routerLink="/profile-student"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#5e1fbf]/20 transition-colors rounded-lg"
      >
        <i class="fas fa-user-circle w-4 text-gray-400 group-hover:text-indigo-500 dark:group-hover:text-indigo-400"></i>
        <span>Profile</span>
      </a>

      <div class="border-t border-gray-100 dark:border-slate-700/50 my-1"></div>

      <button
        (click)="logout()"
        class="group flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-lg w-full text-left"
      >
        <i class="fas fa-sign-out-alt w-4 text-center group-hover:text-red-500 dark:group-hover:text-red-400"></i>
        <span>Logout</span>
      </button>
    </div>
  </div>
</div>

  </div>
</div>
