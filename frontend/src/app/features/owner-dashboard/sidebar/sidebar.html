<!-- Sidebar -->
<aside
  class="fixed top-16 left-0 h-[calc(100vh-4rem)] bg-white shadow-xl border-r border-slate-200 transition-all duration-300 ease-in-out z-40 overflow-y-auto overflow-x-hidden flex-shrink-0"
  [ngClass]="isOpen ? 'w-60' : 'w-20'"
>
  <div class="p-4">
    <ul class="space-y-2">
      <li *ngFor="let item of menuItems">
        <a
          [routerLink]="item.route"
          routerLinkActive="bg-orange-500 text-white shadow-md scale-105"
          [routerLinkActiveOptions]="{ exact: true }"
          class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-orange-100 transition-all duration-300 text-slate-700 group cursor-pointer relative"
        >
          <!-- Icon -->
          <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              [attr.d]="item.icon"
            />
          </svg>

          <!-- Label -->
          <span
            class="font-medium transition-all duration-300 overflow-hidden text-sm"
            [ngClass]="isOpen ? 'opacity-100 w-auto' : 'opacity-0 w-0'"
          >
            {{ item.label }}
          </span>

          <!-- Badge -->
          <span
            *ngIf="item.badge"
            class="ml-auto bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-md transition-all duration-300 overflow-hidden"
            [ngClass]="isOpen ? 'opacity-100 w-auto' : 'opacity-0 w-0'"
          >
            {{ item.badge }}
          </span>

          <!-- Tooltip for collapsed -->
          <div
            *ngIf="!isOpen"
            class="hidden lg:block absolute left-full ml-3 px-3 py-1 bg-slate-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap"
          >
            {{ item.label }}
            <span *ngIf="item.badge" class="ml-2 bg-orange-500 text-xs px-2 py-0.5 rounded-full">
              {{ item.badge }}
            </span>
          </div>
        </a>
      </li>
    </ul>
  </div>
</aside>

<!-- Mobile Overlay -->
<div *ngIf="isOpen" class="fixed inset-0 bg-black/50 z-30 lg:hidden" (click)="isOpen = false"></div>
